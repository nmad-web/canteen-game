<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Canteen Pong</title>
<style>
  body { margin:0; background:#111; display:flex; justify-content:center; align-items:center; height:100vh; }
  canvas { background:#000; }
</style>
</head>
<body>
<canvas id="game" width="360" height="480"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let paddleY = 200;
let ballX = 180, ballY = 240;
let dx = 2.5, dy = 2;
const paddleSpeed = 6;

// KEYBOARD CONTROLS (Laptop)
document.addEventListener("keydown", e => {
  if (e.key === "ArrowUp") paddleY -= paddleSpeed;
  if (e.key === "ArrowDown") paddleY += paddleSpeed;
});

// GYRO CONTROLS (Phone)
if (window.DeviceOrientationEvent) {
  window.addEventListener("deviceorientation", e => {
    if (e.beta !== null) {
      paddleY += e.beta * 0.05;
    }
  });
}

function gameLoop() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Paddle
  ctx.fillStyle = "white";
  ctx.fillRect(20, paddleY, 10, 80);

  // Ball
  ctx.beginPath();
  ctx.arc(ballX, ballY, 6, 0, Math.PI * 2);
  ctx.fill();

  // Ball movement
  ballX += dx;
  ballY += dy;

  if (ballY <= 0 || ballY >= canvas.height) dy *= -1;

  // Paddle collision
  if (ballX < 30 && ballY > paddleY && ballY < paddleY + 80) {
    dx *= -1;
  }

  // Reset
  if (ballX < 0 || ballX > canvas.width) {
    ballX = 180;
    ballY = 240;
  }

  // Limits
  paddleY = Math.max(0, Math.min(canvas.height - 80, paddleY));

  requestAnimationFrame(gameLoop);
}

gameLoop();
</script>
</body>
</html>

